// ===== app/globals.css (전체 교체본) =====

/* ── Theme (공통 변수) ───────────────────────────────────────────── */
:root{
  --bg:#faf7f3;          /* 페이지 배경 */
  --card:#fffef8;        /* 카드 배경 */
  --card-border:#eee5d7; /* 카드 테두리 */
  --text:#3a2f1d;        /* 본문 텍스트 */
  --subtext:#6d5c4c;     /* 보조 텍스트 */
  --accent:#4452fe;      /* 버튼/포커스 */
}

/* ── Base ────────────────────────────────────────────────────────── */
*{ box-sizing: border-box; }
html, body { height:100%; }
body {
  font-family: var(--font-noto-sans-kr), system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
}
img{ display:block; max-width:100%; }
button{ font: inherit; }

/* ── Common Layout / Components ──────────────────────────────────── */
.app { min-height:100dvh; display:flex; align-items:center; justify-content:center; padding:24px; }

.card, .landing-card {
  max-width: 720px; width: min(94vw, 720px);
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 10px 30px rgba(0,0,0,.05);
}

.btn{
  appearance:none; border:none; border-radius:12px; padding:12px 18px;
  background:#262b35; color:#fff; font-weight:600; cursor:pointer; text-decoration:none; display:inline-block;
}
.btn.primary{ background: var(--accent); }
.btn:hover{ filter: brightness(1.08); }
.btn:disabled{ opacity:.5; cursor:not-allowed; }

.title, .landing-title{ margin:0 0 8px; font-size:28px; font-weight:800; color:#5c4d3d; }
.subtitle, .landing-sub{ margin:0 0 6px; color:var(--subtext); font-size:18px; }

/* Utilities */
.mt-4{ margin-top:1rem; }
.mt-8{ margin-top:2rem; }
.text-left{ text-align:left; }
.center{ display:flex; align-items:center; justify-content:center; }

/* ── Landing (홈) 전용 ──────────────────────────────────────────── */
.landing{ display:flex; flex-direction:column; align-items:center; justify-content:center; }
.landing-body{ line-height:1.7; }
.landing-footer{
  margin-top:24px; padding:16px 0; text-align:center; color:#8a7d70; font-size:12px;
  border-top:1px solid #e9dfcf; width:100%; max-width:720px;
}

/* ── /play 전용 (구조만 별도, 색/폰트는 공통) ───────────────────── */
.rsb .header{ text-align:center; margin-bottom:16px; }
.rsb .options{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px; }
.rsb .option{ display:flex; gap:10px; align-items:center; background:var(--card); border:1px solid #ddd; border-radius:12px; padding:12px; cursor:pointer; }
.rsb .option:hover{ background:#f5f2ed; }
.rsb .option.active{ border-color:var(--accent); box-shadow:0 0 0 2px color-mix(in srgb, var(--accent) 20%, transparent) inset; }
.rsb .option input{ display:none; }
.rsb .option span{ font-size:14px; }

.rsb .notice{ margin:10px 0 0; color:red; font-size:13px; }
.rsb .actions{ display:flex; justify-content:space-between; gap:8px; margin-top:14px; }
.rsb .progress{ height:6px; background:#f5f2ed; border-radius:999px; overflow:hidden; margin-top:14px; }
.rsb .progress .bar{ height:100%; background:linear-gradient(90deg, var(--accent), #7aa2ff); }

.rsb .result{ display:grid; gap:16px; margin-top:12px; }
.rsb .imgbox{ width:100%; aspect-ratio:16/9; background:var(--bg); border:1px solid #e9dfcf; border-radius:14px; overflow:hidden; display:flex; align-items:center; justify-content:center; }
.rsb .imgbox img{ width:100%; height:100%; object-fit:cover; }

.rsb .story{ background:var(--card); border:1px solid #e9dfcf; border-radius:14px; padding:16px; }
.rsb .story p{ line-height:1.75; margin:0 0 10px; }
.rsb .status{ text-align:center; font-size:13px; color:var(--subtext); }

@media (max-width:560px){
  .title, .landing-title{ font-size:22px; }
  .rsb .options{ grid-template-columns:1fr; }
}


/* ====== 스크린리더 전용: 시각적으로만 숨김(포커스/탭/읽기 유지) ====== */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* 옵션 라벨(컨테이너) */
.rsb-option {
  position: relative;
  display: block;
}

/* 시각적 카드(여기에 포커스 링을 그림) */
.rsb-option-visual {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 12px 14px;
  border: 1px solid var(--rsb-border, #e5e7eb);
  border-radius: 10px;
  cursor: pointer;
  user-select: none;
}

/* 선택 상태 */
.rsb-option.active .rsb-option-visual {
  border-color: var(--rsb-primary, #6366f1);
  background: color-mix(in srgb, var(--rsb-primary, #6366f1) 6%, transparent);
}

/* 비활성화 */
.rsb-option.is-disabled .rsb-option-visual {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ✅ 포커스 링 표시 — 최신/폴백 둘 다 지원 */

/* 1) 최신 브라우저: :has 로 자식 input의 포커스를 감지 */
@supports selector(:has(*)) {
  .rsb-option:has(.rsb-radio-input:focus-visible) .rsb-option-visual {
    outline: 3px solid var(--rsb-focus, #3b82f6);
    outline-offset: 2px;
  }
}

/* 2) 폴백: input 다음 형제 요소에 직접 표시 */
.rsb-radio-input:focus-visible + .rsb-option-visual {
  outline: 3px solid var(--rsb-focus, #3b82f6);
  outline-offset: 2px;
}

/* 접근성 영향 없는 호버 */
.rsb-option:not(.is-disabled) .rsb-option-visual:hover {
  border-color: var(--rsb-hover, #c7c9d1);
}
